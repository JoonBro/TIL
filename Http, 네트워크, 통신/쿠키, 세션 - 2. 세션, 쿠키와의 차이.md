# 세션

: 일정시간동안(브라우저 사용 중일 동안) 한 사용자(브라우저)의 상태를 유지시키는 것(**클라이언트를 구분하는 수단**)

* 쿠키는 브라우저나 하드에 저장하는데, 세션은 웹 서버(DB)에 저장함.
  * Session Id(세션 키값)는 쿠키로 저장하고, 필요할 때마다 서버에 저장된 데이터를 이 키로 받아옴



## 세션의 절차

1. 클라이언트가 서버에 리소스 요청하면 HTTP request에 담겨있는 쿠키에서 Session Id를 확인
   * 이 때 없으면 Set-Cookie를 통해 새로 발행한 Session Id를 보낸다.
2. 클라이언트는 HTTP request 헤더에 Session Id를 포함하여 원하는 리소스를 요청
3. 서버는 Session Id를 통해 세션을 찾아 클라이언트의 상태 정보를 유지하면서 적절한 응답을 보냄



## 세션의 장단점

* 장점
  * 클라이언트마다 고유의 id가 있다.
    * 각 클라이언트의 요구에 맞는 서비스 제공 가능
  * 정보를 서버에 저장하기 때문에 쿠키의 보안상 단점을 커버
* 단점
  * 서버에 별도로 저장해야한다.
  * LB 상황에서도 처리하기 어렵다고 함.
    * 이 때는 1. 세션정보는 하나의 서버에만 저장하거나, 2. 별도 DB를 사용해서 scale된 서버들끼리 Session을 공유하도록?
  * CORS
    * 세션 관리 시 단일 도메인 및 서브 도메인에서만 작동하도록 되어있어,여러 도메인에서 관리하는 것은 번거롭다고 함



## 세션과 쿠키 차이

​		출처: https://hahahoho5915.tistory.com/32

<img src="/home/joowon/.config/Typora/typora-user-images/image-20210601140833696.png" alt="image-20210601140833696" style="zoom:90%;" />



#### Reference)

#### https://hahahoho5915.tistory.com/32

#### https://nesoy.github.io/articles/2017-03/Session-Cookie

#### https://tristan91.tistory.com/521